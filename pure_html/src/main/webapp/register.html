<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Registrati</title>
    <link rel="stylesheet" href="css/app.css" th:href="@{/css/app.css}" />
    <link rel="icon" sizes="32x32" type="image/png" href="img/icon2.png" th:href="@{/img/icon2.png}">
</head>
<body>
<div class="wrap">
    <h1 class="title-box">REGISTRATI</h1>

  <div class="auth-box">
        <!-- Messaggi solo in cas di errore
        span è un contenitore inline (a differenza di div che è block);
        alert per lo stile grafico;
        th:if -> attributo di Thymeleaf (mostra questo solo se la condizione è vera);
        th:text="..." → sostituisce il contenuto dello span con il valore calcolato dall’espressione;
        -->
        <div class="alert" th:if="${param.error or error}">
        <span th:text="${param.error != null ? param.error[0] : (error != null ? error : 'Errore di registrazione')}">
          Errore di registrazione
        </span>
        </div>

        <form action="/Register" th:action="@{/Register}" method="post" autocomplete="on" class="stack">
            <!-- Nickname -->
            <div class="field pad-left">
          <span class="badge left" aria-hidden="true">

            <!-- Inserimento incona svg -->
            <svg viewBox="0 0 24 24" fill="currentColor" width="30" height="30">
              <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4.4 0-8 2.2-8 5v1h16v-1c0-2.8-3.6-5-8-5Z"/>
            </svg>

          </span>
                <input type="text" id="nickname" name="nickname" placeholder="Nickname" required />
            </div>

            <!-- Password -->
            <div class="field pad-left">
          <span class="badge left" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="currentColor" width="30" height="30">
              <path d="M12 1a5 5 0 0 0-5 5v3H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V11a2 2 0 0 0-2-2h-2V6a5 5 0 0 0-5-5Zm3 8H9V6a3 3 0 0 1 6 0Z"/>
            </svg>
          </span>
                <input type="password" id="password" name="password" placeholder="Password" minlength="6" required />
            </div>

            <!-- Nome -->
            <div class="field pad-left">
          <span class="badge left" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="currentColor" width="30" height="30">
              <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4.4 0-8 2.2-8 5v1h16v-1c0-2.8-3.6-5-8-5Z"/>
            </svg>
          </span>
                <input type="text" id="name" name="name" placeholder="Nome" required />
            </div>

            <!-- Cognome -->
            <div class="field pad-left">
          <span class="badge left" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="currentColor" width="30" height="30">
             <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-4.4 0-8 2.2-8 5v1h16v-1c0-2.8-3.6-5-8-5Z"/>
            </svg>
          </span>
                <input type="text" id="surname" name="surname" placeholder="Cognome" required />
            </div>

      <!-- Azione POST -->
      <button class="btn" type="submit">REGISTRATI</button>
      <!-- GET per tornare alla pagina di login -->
      <a class="btn auth-secondary" href="/Login" th:href="@{/Login}" aria-label="Torna al login">HAI UN ACCOUNT ? ACCEDI</a>
        </form>
    </div>
</div>
</body>
</html>
