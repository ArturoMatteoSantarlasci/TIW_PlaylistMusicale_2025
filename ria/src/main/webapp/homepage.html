<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Home page</title>
    <link rel="stylesheet" href="CSS/app.css" />
    <link rel="icon" sizes="32x32" type="image/png" href="img/icon2.png">
    <script src="utils.js" charset="UTF-8" defer></script>
    <script src="homepage.js" charset="UTF-8" defer></script>
</head>
<body class="page-home">
<div class="page-wrapper">
    <header class="header">
        <div class="header-left"></div>
        <h1 class="header-title main-label sr-only" id="homepage">LE MIE PLAYLIST</h1>
        <div class="header-right actions-row">
            <button id="homepage-button" class="iconbtn corner corner-left" title="Homepage" aria-label="Homepage">
                <svg viewBox="0 0 24 24" width="29" height="29"
                     fill="none" stroke="currentColor" stroke-width="2"
                     stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <!-- contorno casa -->
                    <path d="M3 11l9-7 9 7"/>
                    <path d="M5 10v9a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-9"/>
                    <!-- porta piena -->
                    <rect x="10" y="14" width="4" height="7" rx="1" ry="1"
                          fill="currentColor" stroke="none"/>
                </svg>            </button>
            <button id="track-selector-modal-button" class="btn secondary">Nuova Playlist</button>
            <button id="upload-track-modal-button" class="btn">Carica Brano</button>
            <button id="logout-button" type="button" class="btn secondary logout">Logout</button>
        </div>
        <!-- Bottone visibile solo nella vista traccia per tornare all'elenco tracce della playlist -->
        <button id="back-to-playlist-button" class="iconbtn corner corner-left hidden" title="Indietro" aria-label="Torna alla playlist">
            <!-- Left-pointing arrow icon -->
            <svg viewBox="0 1 24 24" width="29" height="39" fill="currentColor" aria-hidden="true">
                <path d="M10 9V5L3 12l7 7v-4.1c5.1 0 8.6 1.8 11 5.1
             c-1-5.7-4.6-10.9-11-11.0H10z"/>
            </svg>
        </button>
    </header>

    <main class="main" id="main"></main>
</div>

<!-- Toast container (transient messages) -->
<div id="toast" class="toast" role="alert" aria-live="polite" aria-atomic="true"></div>

<!-- Container per modali dinamiche -->
<div id="modals"></div>
<!-- Mini player bottom (iniettato staticamente) -->
<div id="miniPlayer" class="mini-player hidden" aria-hidden="true">
    <!-- Close button -->
    <button type="button" class="mini-btn mini-close" id="miniClose" aria-label="Chiudi mini player" title="Chiudi">
        <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
    </button>
    <!-- existing controls -->
    <button type="button" class="mini-btn prev" id="miniPrev" aria-label="Precedente" disabled>
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M10 12L18 6v12l-8-6zm-4 6V6h2v12H6z"/></svg>
    </button>
    <button type="button" class="mini-btn play" id="miniPlay" aria-label="Riproduci">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
    </button>
    <button type="button" class="mini-btn next" id="miniNext" aria-label="Successiva" disabled>
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor"><path d="M14 12L6 6v12l8-6zm4 6V6h-2v12h2z"/></svg>
    </button>
    <div class="mini-meta"><span class="t" id="miniTitle">—</span><span class="s" id="miniArtist">—</span></div>
    <audio id="miniAudio" preload="metadata"></audio>
</div>
</body>
</html>